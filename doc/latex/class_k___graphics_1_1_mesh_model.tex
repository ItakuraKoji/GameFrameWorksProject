\hypertarget{class_k___graphics_1_1_mesh_model}{}\section{K\+\_\+\+Graphics\+:\+:Mesh\+Model クラス}
\label{class_k___graphics_1_1_mesh_model}\index{K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}}


3\+Dモデルクラス~\newline
ファクトリーから生産されたモデルデータを受け取って初期化する 「形状」という扱いで、描画時には「\+Shader\+Class」のポインタが必須  




{\ttfamily \#include $<$Mesh\+Model.\+h$>$}

\subsection*{公開メンバ関数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_k___graphics_1_1_mesh_model_ab7ba0ef09b7548369c64fa306a017763}{Mesh\+Model}} (\mbox{\hyperlink{struct_k___graphics_1_1_model_datas}{Model\+Datas}} $\ast$data)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_k___graphics_1_1_mesh_model_a637186b0c2c238605024c1ac04b74fa5}{Initialize()}}を呼ぶ \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_k___graphics_1_1_mesh_model_a1cad4b0768077d36ab31fdfdff1e3e61}{$\sim$\+Mesh\+Model}} ()
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_k___graphics_1_1_mesh_model_a22ec15af1fc136d17ef87293acc1e4a7}{Finalize()}}を呼ぶ \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_k___graphics_1_1_mesh_model_a637186b0c2c238605024c1ac04b74fa5}{Initialize}} (\mbox{\hyperlink{struct_k___graphics_1_1_model_datas}{Model\+Datas}} $\ast$data)
\begin{DoxyCompactList}\small\item\em モデルデータによって3\+Dモデルを初期化 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_k___graphics_1_1_mesh_model_a22ec15af1fc136d17ef87293acc1e4a7}{Finalize}} ()
\begin{DoxyCompactList}\small\item\em 終了処理、モデルデータのポインタをdeleteしている \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_k___graphics_1_1_mesh_model_afd9c3efeb690b8acd03a83aa8382f22c}{Set\+Animation}} (const std\+::string \&animation\+Name, bool play\+Once, bool is\+Loop, int interpolation\+Frames)
\begin{DoxyCompactList}\small\item\em スキンメッシュアニメーションを選択、再生する \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_k___graphics_1_1_mesh_model_a35917ca955acf2d980790c1e5b51b01d}{Set\+Texture}} (\mbox{\hyperlink{class_k___graphics_1_1_texture}{Texture}} $\ast$texture, int array\+Index, int material\+Index)
\begin{DoxyCompactList}\small\item\em テクスチャを変更する、基本は使わなくてもいい \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_k___graphics_1_1_mesh_model_a6a691bb67f21e90cfeffe89d02fd2fa2}{Set\+Speed}} (float speed)
\begin{DoxyCompactList}\small\item\em アニメーションスピードを変更する \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_k___graphics_1_1_mesh_model_abdf4e1efb588647fa962296ac4bbed32}{Update\+Animation}} ()
\begin{DoxyCompactList}\small\item\em アニメーションを更新 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_k___graphics_1_1_mesh_model_a2f3e54e2d4edaf4d54744446971447f3}{Draw}} (\mbox{\hyperlink{class_k___graphics_1_1_shader_class}{Shader\+Class}} $\ast$shader)
\begin{DoxyCompactList}\small\item\em 描画を行う~\newline
シェーダーには必要な行列がすでに入っているとする \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_k___graphics_1_1_mesh_model_ad6da27db2ea78c8b7b531707973d33f1}{Instance\+Draw}} (int num\+Instance, \mbox{\hyperlink{class_k___graphics_1_1_shader_class}{Shader\+Class}} $\ast$shader)
\begin{DoxyCompactList}\small\item\em (未完成)インスタンス描画を行う~\newline
シェーダーとの連携がまだできていないので未実装 \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{詳解}
3\+Dモデルクラス~\newline
ファクトリーから生産されたモデルデータを受け取って初期化する 「形状」という扱いで、描画時には「\+Shader\+Class」のポインタが必須 

\subsection{構築子と解体子}
\mbox{\Hypertarget{class_k___graphics_1_1_mesh_model_ab7ba0ef09b7548369c64fa306a017763}\label{class_k___graphics_1_1_mesh_model_ab7ba0ef09b7548369c64fa306a017763}} 
\index{K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}!Mesh\+Model@{Mesh\+Model}}
\index{Mesh\+Model@{Mesh\+Model}!K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}}
\subsubsection{\texorpdfstring{Mesh\+Model()}{MeshModel()}}
{\footnotesize\ttfamily K\+\_\+\+Graphics\+::\+Mesh\+Model\+::\+Mesh\+Model (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_k___graphics_1_1_model_datas}{Model\+Datas}} $\ast$}]{data }\end{DoxyParamCaption})}



\mbox{\hyperlink{class_k___graphics_1_1_mesh_model_a637186b0c2c238605024c1ac04b74fa5}{Initialize()}}を呼ぶ 

\mbox{\Hypertarget{class_k___graphics_1_1_mesh_model_a1cad4b0768077d36ab31fdfdff1e3e61}\label{class_k___graphics_1_1_mesh_model_a1cad4b0768077d36ab31fdfdff1e3e61}} 
\index{K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}!````~Mesh\+Model@{$\sim$\+Mesh\+Model}}
\index{````~Mesh\+Model@{$\sim$\+Mesh\+Model}!K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}}
\subsubsection{\texorpdfstring{$\sim$\+Mesh\+Model()}{~MeshModel()}}
{\footnotesize\ttfamily K\+\_\+\+Graphics\+::\+Mesh\+Model\+::$\sim$\+Mesh\+Model (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\mbox{\hyperlink{class_k___graphics_1_1_mesh_model_a22ec15af1fc136d17ef87293acc1e4a7}{Finalize()}}を呼ぶ 



\subsection{関数詳解}
\mbox{\Hypertarget{class_k___graphics_1_1_mesh_model_a2f3e54e2d4edaf4d54744446971447f3}\label{class_k___graphics_1_1_mesh_model_a2f3e54e2d4edaf4d54744446971447f3}} 
\index{K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}!Draw@{Draw}}
\index{Draw@{Draw}!K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}}
\subsubsection{\texorpdfstring{Draw()}{Draw()}}
{\footnotesize\ttfamily void K\+\_\+\+Graphics\+::\+Mesh\+Model\+::\+Draw (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_k___graphics_1_1_shader_class}{Shader\+Class}} $\ast$}]{shader }\end{DoxyParamCaption})}



描画を行う~\newline
シェーダーには必要な行列がすでに入っているとする 


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em shader} & 使用するシェーダー \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_k___graphics_1_1_mesh_model_a22ec15af1fc136d17ef87293acc1e4a7}\label{class_k___graphics_1_1_mesh_model_a22ec15af1fc136d17ef87293acc1e4a7}} 
\index{K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}!Finalize@{Finalize}}
\index{Finalize@{Finalize}!K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}}
\subsubsection{\texorpdfstring{Finalize()}{Finalize()}}
{\footnotesize\ttfamily void K\+\_\+\+Graphics\+::\+Mesh\+Model\+::\+Finalize (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



終了処理、モデルデータのポインタをdeleteしている 

\mbox{\Hypertarget{class_k___graphics_1_1_mesh_model_a637186b0c2c238605024c1ac04b74fa5}\label{class_k___graphics_1_1_mesh_model_a637186b0c2c238605024c1ac04b74fa5}} 
\index{K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}}
\subsubsection{\texorpdfstring{Initialize()}{Initialize()}}
{\footnotesize\ttfamily bool K\+\_\+\+Graphics\+::\+Mesh\+Model\+::\+Initialize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_k___graphics_1_1_model_datas}{Model\+Datas}} $\ast$}]{data }\end{DoxyParamCaption})}



モデルデータによって3\+Dモデルを初期化 


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em Model\+Data\+Factoryクラスによって生成されたモデルデータへのポインタ} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{戻り値}
成功するとtrue 
\end{DoxyReturn}
\mbox{\Hypertarget{class_k___graphics_1_1_mesh_model_ad6da27db2ea78c8b7b531707973d33f1}\label{class_k___graphics_1_1_mesh_model_ad6da27db2ea78c8b7b531707973d33f1}} 
\index{K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}!Instance\+Draw@{Instance\+Draw}}
\index{Instance\+Draw@{Instance\+Draw}!K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}}
\subsubsection{\texorpdfstring{Instance\+Draw()}{InstanceDraw()}}
{\footnotesize\ttfamily void K\+\_\+\+Graphics\+::\+Mesh\+Model\+::\+Instance\+Draw (\begin{DoxyParamCaption}\item[{int}]{num\+Instance,  }\item[{\mbox{\hyperlink{class_k___graphics_1_1_shader_class}{Shader\+Class}} $\ast$}]{shader }\end{DoxyParamCaption})}



(未完成)インスタンス描画を行う~\newline
シェーダーとの連携がまだできていないので未実装 

\mbox{\Hypertarget{class_k___graphics_1_1_mesh_model_afd9c3efeb690b8acd03a83aa8382f22c}\label{class_k___graphics_1_1_mesh_model_afd9c3efeb690b8acd03a83aa8382f22c}} 
\index{K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}!Set\+Animation@{Set\+Animation}}
\index{Set\+Animation@{Set\+Animation}!K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}}
\subsubsection{\texorpdfstring{Set\+Animation()}{SetAnimation()}}
{\footnotesize\ttfamily void K\+\_\+\+Graphics\+::\+Mesh\+Model\+::\+Set\+Animation (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{animation\+Name,  }\item[{bool}]{play\+Once,  }\item[{bool}]{is\+Loop,  }\item[{int}]{interpolation\+Frames }\end{DoxyParamCaption})}



スキンメッシュアニメーションを選択、再生する 


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em animation\+Name} & アニメーションの名前（モデリングソフトで作成したときのアニメーション名） \\
\hline
\mbox{\tt in}  & {\em play\+Once} & 連続して同じアニメーションを再生したときに初めから再生しなおすか \\
\hline
\mbox{\tt in}  & {\em is\+Loop} & アニメーションをループ再生するか \\
\hline
\mbox{\tt in}  & {\em interpolation\+Frames} & フレーム単位の補間時間（０で補完しない） \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_k___graphics_1_1_mesh_model_a6a691bb67f21e90cfeffe89d02fd2fa2}\label{class_k___graphics_1_1_mesh_model_a6a691bb67f21e90cfeffe89d02fd2fa2}} 
\index{K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}!Set\+Speed@{Set\+Speed}}
\index{Set\+Speed@{Set\+Speed}!K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}}
\subsubsection{\texorpdfstring{Set\+Speed()}{SetSpeed()}}
{\footnotesize\ttfamily void K\+\_\+\+Graphics\+::\+Mesh\+Model\+::\+Set\+Speed (\begin{DoxyParamCaption}\item[{float}]{speed }\end{DoxyParamCaption})}



アニメーションスピードを変更する 


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em 1を通常の速度としたアニメーションの速度} & \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_k___graphics_1_1_mesh_model_a35917ca955acf2d980790c1e5b51b01d}\label{class_k___graphics_1_1_mesh_model_a35917ca955acf2d980790c1e5b51b01d}} 
\index{K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}!Set\+Texture@{Set\+Texture}}
\index{Set\+Texture@{Set\+Texture}!K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}}
\subsubsection{\texorpdfstring{Set\+Texture()}{SetTexture()}}
{\footnotesize\ttfamily void K\+\_\+\+Graphics\+::\+Mesh\+Model\+::\+Set\+Texture (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_k___graphics_1_1_texture}{Texture}} $\ast$}]{texture,  }\item[{int}]{array\+Index,  }\item[{int}]{material\+Index }\end{DoxyParamCaption})}



テクスチャを変更する、基本は使わなくてもいい 


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em texture} & 使用するテクスチャへのポインタ \\
\hline
\mbox{\tt in}  & {\em array\+Index} & 対象となるメッシュ階層のインデックス \\
\hline
\mbox{\tt in}  & {\em material\+Index} & 対象となるメッシュ階層のなかのマテリアルインデックス \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_k___graphics_1_1_mesh_model_abdf4e1efb588647fa962296ac4bbed32}\label{class_k___graphics_1_1_mesh_model_abdf4e1efb588647fa962296ac4bbed32}} 
\index{K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}!Update\+Animation@{Update\+Animation}}
\index{Update\+Animation@{Update\+Animation}!K\+\_\+\+Graphics\+::\+Mesh\+Model@{K\+\_\+\+Graphics\+::\+Mesh\+Model}}
\subsubsection{\texorpdfstring{Update\+Animation()}{UpdateAnimation()}}
{\footnotesize\ttfamily void K\+\_\+\+Graphics\+::\+Mesh\+Model\+::\+Update\+Animation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



アニメーションを更新 

