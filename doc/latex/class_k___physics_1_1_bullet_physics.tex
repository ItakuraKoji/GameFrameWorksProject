\hypertarget{class_k___physics_1_1_bullet_physics}{}\section{K\+\_\+\+Physics\+:\+:Bullet\+Physics クラス}
\label{class_k___physics_1_1_bullet_physics}\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}


bulletのワールドを管理するクラス~\newline
コリジョンの生成・判定関数を提供している  




{\ttfamily \#include $<$Bullet\+Physics.\+h$>$}

\subsection*{公開メンバ関数}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_k___physics_1_1_bullet_physics_a8c8e7b9c5c8c53861e409aa7a6a644f4}{Bullet\+Physics}} ()
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_ad280b1eeb62f13463d47be6182d5b978}{Initialize()}}を呼ぶ \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_k___physics_1_1_bullet_physics_a0fca03e6a99d9cc53cc86f54629f23a7}{$\sim$\+Bullet\+Physics}} ()
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_ae7d67b163870213501e3bba697981b35}{Finalize()}}を呼ぶ \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_ad280b1eeb62f13463d47be6182d5b978}{Initialize}} ()
\begin{DoxyCompactList}\small\item\em bulletの初期化を行う \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_ae7d67b163870213501e3bba697981b35}{Finalize}} ()
\begin{DoxyCompactList}\small\item\em bulletの終了処理を行う \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_a251957471a8ab4f8bbace69c995d325f}{Run}} ()
\begin{DoxyCompactList}\small\item\em bulletの物理世界を更新して座標を変更する~\newline
プレイヤーの地形判定関数は別駆動なのでフレームの初めに呼ぶとよい \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_a772c665942f1e1855cd218f50b44a9d7}{Debug\+Draw}} (\mbox{\hyperlink{class_k___graphics_1_1_shader_class}{K\+\_\+\+Graphics\+::\+Shader\+Class}} $\ast$shader, \mbox{\hyperlink{class_k___graphics_1_1_camera_class}{K\+\_\+\+Graphics\+::\+Camera\+Class}} $\ast$camera, const \mbox{\hyperlink{namespace_k___math_a345271af9d32dff2c964bc679b13b45c}{K\+\_\+\+Math\+::\+Matrix4x4}} \&trans=K\+\_\+\+Math\+::\+Matrix4x4\+::\+Identity())
\begin{DoxyCompactList}\small\item\em bulletのコリジョンを可視化する \end{DoxyCompactList}\item 
bt\+Collision\+Shape $\ast$ \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_a70d73ada453638ed643a117b6b2a9809}{Create\+Triangle\+Hull\+Shape}} (const bt\+Vector3 \&point1, const bt\+Vector3 \&point2, const bt\+Vector3 \&point3)
\begin{DoxyCompactList}\small\item\em 三角形の形状を作成 \end{DoxyCompactList}\item 
bt\+Triangle\+Mesh $\ast$ \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_a22e01fd34d8040fb70f4ccf12d69969e}{Create\+Triangle\+Mesh}} (bt\+Vector3 $\ast$vectice, int num\+Face)
\begin{DoxyCompactList}\small\item\em ポリゴンの集合形状を作成 \end{DoxyCompactList}\item 
bt\+Collision\+Shape $\ast$ \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_ad78ad1e12f268bac61731b636ea040b4}{Create\+Triangle\+Mesh\+Shape}} (bt\+Triangle\+Mesh $\ast$mesh)
\begin{DoxyCompactList}\small\item\em bt\+Triangle\+Meshからメッシュ形状を作成 \end{DoxyCompactList}\item 
bt\+Collision\+Shape $\ast$ \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_af6f877441f5b5d7da250bcc39a694273}{Create\+Sphere\+Shape}} (float radius)
\begin{DoxyCompactList}\small\item\em 球の形状を作成 \end{DoxyCompactList}\item 
bt\+Collision\+Shape $\ast$ \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_a67e200395443fdfb27aef63b0e154078}{Create\+Capsule\+Shape}} (float radius, float height)
\begin{DoxyCompactList}\small\item\em カプセルの形状を作成 \end{DoxyCompactList}\item 
bt\+Collision\+Shape $\ast$ \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_a12af3e18b74c5dd8bf6a866f6eb1df03}{Create\+Box\+Shape}} (float half\+Width, float half\+Height, float half\+Depth)
\begin{DoxyCompactList}\small\item\em 直方体の形状を作成 \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_k___physics_1_1_collision_data}{Collision\+Data}} $\ast$ \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_ad8d394a940bd7504521d3345173b15cc}{Create\+Rigid\+Body}} (bt\+Collision\+Shape $\ast$shape, bt\+Scalar mass, int mask, const bt\+Vector3 \&pos=bt\+Vector3(0, 0, 0), const bt\+Vector3 \&rot=bt\+Vector3(0, 0, 0))
\begin{DoxyCompactList}\small\item\em 剛体オブジェクトを作成し、ポインタを返す \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_k___physics_1_1_collision_data}{Collision\+Data}} $\ast$ \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_ae8587763df623623783cce96a444ea15}{Create\+Collision\+Object}} (bt\+Collision\+Shape $\ast$shape, bool ghost, int mask, const bt\+Vector3 \&pos=bt\+Vector3(0, 0, 0), const bt\+Vector3 \&rot=bt\+Vector3(0, 0, 0))
\begin{DoxyCompactList}\small\item\em コリジョンオブジェクトを作成し、ポインタを返す \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_ad5e9e30666e87099f84dc5b2c009c4d4}{Remove\+Collision\+Object}} (bt\+Collision\+Object $\ast$rigidbody)
\begin{DoxyCompactList}\small\item\em 明示的に世界に登録している剛体を世界から外してからポインタをdeleteする~\newline
このクラスのデストラクタにてこの関数によって全て開放している \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_a1501fdf81207cffa2b1b964d6a38129e}{Remove\+Collision\+Shape}} (bt\+Collision\+Shape $\ast$shape)
\begin{DoxyCompactList}\small\item\em 明示的にリストに存在する形状情報をリストから外してdeleteする この関数を呼ばなくても、このクラスのデストラクタで全て開放している この関数の後は、形状へのポインタは使えないので注意 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_a2064ce3d899413b10a2c77e1294c8e53}{Move\+Character}} (bt\+Collision\+Object $\ast$obj, const bt\+Vector3 \&move)
\begin{DoxyCompactList}\small\item\em 操作性を意識したコリジョンの移動、壁判定も行う(重いが正確) \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_af3ed7672b8971271c02610906cab62be}{Move\+Character\+Discrete}} (bt\+Collision\+Object $\ast$obj, const bt\+Vector3 \&h\+Move, const bt\+Vector3 \&v\+Move)
\begin{DoxyCompactList}\small\item\em 離散的なコリジョンの移動、判定が Move\+Character よりも大雑把(ただし軽い) \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{struct_k___physics_1_1_collision_tag}{Collision\+Tag}} $>$ \& \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_ade016d6e87e8dfdcc8d559455a161692}{Find\+Confriction\+Objects}} (bt\+Collision\+Object $\ast$myself)
\begin{DoxyCompactList}\small\item\em 現在の物理世界での特定のオブジェクトに対する衝突のチェック \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_ac9b3ed073b61a866485f462fa98ec14c}{Set\+Sky\+Vector}} (const bt\+Vector3 \&vector)
\begin{DoxyCompactList}\small\item\em 重力とは反対方向を指す単位ベクトルを設定、キャラクターの移動に利用する \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{詳解}
bulletのワールドを管理するクラス~\newline
コリジョンの生成・判定関数を提供している 

\subsection{構築子と解体子}
\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_a8c8e7b9c5c8c53861e409aa7a6a644f4}\label{class_k___physics_1_1_bullet_physics_a8c8e7b9c5c8c53861e409aa7a6a644f4}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!Bullet\+Physics@{Bullet\+Physics}}
\index{Bullet\+Physics@{Bullet\+Physics}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{Bullet\+Physics()}{BulletPhysics()}}
{\footnotesize\ttfamily K\+\_\+\+Physics\+::\+Bullet\+Physics\+::\+Bullet\+Physics (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\mbox{\hyperlink{class_k___physics_1_1_bullet_physics_ad280b1eeb62f13463d47be6182d5b978}{Initialize()}}を呼ぶ 

\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_a0fca03e6a99d9cc53cc86f54629f23a7}\label{class_k___physics_1_1_bullet_physics_a0fca03e6a99d9cc53cc86f54629f23a7}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!````~Bullet\+Physics@{$\sim$\+Bullet\+Physics}}
\index{````~Bullet\+Physics@{$\sim$\+Bullet\+Physics}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{$\sim$\+Bullet\+Physics()}{~BulletPhysics()}}
{\footnotesize\ttfamily K\+\_\+\+Physics\+::\+Bullet\+Physics\+::$\sim$\+Bullet\+Physics (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\mbox{\hyperlink{class_k___physics_1_1_bullet_physics_ae7d67b163870213501e3bba697981b35}{Finalize()}}を呼ぶ 



\subsection{関数詳解}
\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_a12af3e18b74c5dd8bf6a866f6eb1df03}\label{class_k___physics_1_1_bullet_physics_a12af3e18b74c5dd8bf6a866f6eb1df03}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!Create\+Box\+Shape@{Create\+Box\+Shape}}
\index{Create\+Box\+Shape@{Create\+Box\+Shape}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{Create\+Box\+Shape()}{CreateBoxShape()}}
{\footnotesize\ttfamily bt\+Collision\+Shape $\ast$ K\+\_\+\+Physics\+::\+Bullet\+Physics\+::\+Create\+Box\+Shape (\begin{DoxyParamCaption}\item[{float}]{half\+Width,  }\item[{float}]{half\+Height,  }\item[{float}]{half\+Depth }\end{DoxyParamCaption})}



直方体の形状を作成 


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em half\+Width} & 中心からの直方体の幅 \\
\hline
\mbox{\tt in}  & {\em half\+Height} & 中心からの直方体の高さ \\
\hline
\mbox{\tt in}  & {\em half\+Depth} & 中心からの直方体の奥行き \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_a67e200395443fdfb27aef63b0e154078}\label{class_k___physics_1_1_bullet_physics_a67e200395443fdfb27aef63b0e154078}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!Create\+Capsule\+Shape@{Create\+Capsule\+Shape}}
\index{Create\+Capsule\+Shape@{Create\+Capsule\+Shape}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{Create\+Capsule\+Shape()}{CreateCapsuleShape()}}
{\footnotesize\ttfamily bt\+Collision\+Shape $\ast$ K\+\_\+\+Physics\+::\+Bullet\+Physics\+::\+Create\+Capsule\+Shape (\begin{DoxyParamCaption}\item[{float}]{radius,  }\item[{float}]{height }\end{DoxyParamCaption})}



カプセルの形状を作成 


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em radius} & 球の半径 \\
\hline
\mbox{\tt in}  & {\em height} & カプセルの高さ \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_ae8587763df623623783cce96a444ea15}\label{class_k___physics_1_1_bullet_physics_ae8587763df623623783cce96a444ea15}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!Create\+Collision\+Object@{Create\+Collision\+Object}}
\index{Create\+Collision\+Object@{Create\+Collision\+Object}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{Create\+Collision\+Object()}{CreateCollisionObject()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_k___physics_1_1_collision_data}{Collision\+Data}} $\ast$ K\+\_\+\+Physics\+::\+Bullet\+Physics\+::\+Create\+Collision\+Object (\begin{DoxyParamCaption}\item[{bt\+Collision\+Shape $\ast$}]{shape,  }\item[{bool}]{ghost,  }\item[{int}]{mask,  }\item[{const bt\+Vector3 \&}]{pos = {\ttfamily btVector3(0,~0,~0)},  }\item[{const bt\+Vector3 \&}]{rot = {\ttfamily btVector3(0,~0,~0)} }\end{DoxyParamCaption})}



コリジョンオブジェクトを作成し、ポインタを返す 


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em shape} & コリジョンの形状へのポインタ \\
\hline
\mbox{\tt in}  & {\em ghost} & コリジョンが剛体と衝突するかのフラグ（trueで剛体とは衝突しない） \\
\hline
\mbox{\tt in}  & {\em mask} & 衝突フィルタに使うビットマスク \\
\hline
\mbox{\tt in}  & {\em pos} & コリジョンの初期位置（省略時はすべて０） \\
\hline
\mbox{\tt in}  & {\em rot} & コリジョンの回転（省略時はすべて０） \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_ad8d394a940bd7504521d3345173b15cc}\label{class_k___physics_1_1_bullet_physics_ad8d394a940bd7504521d3345173b15cc}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!Create\+Rigid\+Body@{Create\+Rigid\+Body}}
\index{Create\+Rigid\+Body@{Create\+Rigid\+Body}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{Create\+Rigid\+Body()}{CreateRigidBody()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_k___physics_1_1_collision_data}{Collision\+Data}} $\ast$ K\+\_\+\+Physics\+::\+Bullet\+Physics\+::\+Create\+Rigid\+Body (\begin{DoxyParamCaption}\item[{bt\+Collision\+Shape $\ast$}]{shape,  }\item[{bt\+Scalar}]{mass,  }\item[{int}]{mask,  }\item[{const bt\+Vector3 \&}]{pos = {\ttfamily btVector3(0,~0,~0)},  }\item[{const bt\+Vector3 \&}]{rot = {\ttfamily btVector3(0,~0,~0)} }\end{DoxyParamCaption})}



剛体オブジェクトを作成し、ポインタを返す 


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em shape} & 剛体の形状へのポインタ \\
\hline
\mbox{\tt in}  & {\em mass} & 剛体の質量 \\
\hline
\mbox{\tt in}  & {\em mask} & 衝突フィルタに使うビットマスク \\
\hline
\mbox{\tt in}  & {\em pos} & 剛体の初期位置（省略時はすべて０） \\
\hline
\mbox{\tt in}  & {\em rot} & 剛体の回転（省略時はすべて０） \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_af6f877441f5b5d7da250bcc39a694273}\label{class_k___physics_1_1_bullet_physics_af6f877441f5b5d7da250bcc39a694273}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!Create\+Sphere\+Shape@{Create\+Sphere\+Shape}}
\index{Create\+Sphere\+Shape@{Create\+Sphere\+Shape}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{Create\+Sphere\+Shape()}{CreateSphereShape()}}
{\footnotesize\ttfamily bt\+Collision\+Shape $\ast$ K\+\_\+\+Physics\+::\+Bullet\+Physics\+::\+Create\+Sphere\+Shape (\begin{DoxyParamCaption}\item[{float}]{radius }\end{DoxyParamCaption})}



球の形状を作成 


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em radius} & 球の半径 \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_a70d73ada453638ed643a117b6b2a9809}\label{class_k___physics_1_1_bullet_physics_a70d73ada453638ed643a117b6b2a9809}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!Create\+Triangle\+Hull\+Shape@{Create\+Triangle\+Hull\+Shape}}
\index{Create\+Triangle\+Hull\+Shape@{Create\+Triangle\+Hull\+Shape}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{Create\+Triangle\+Hull\+Shape()}{CreateTriangleHullShape()}}
{\footnotesize\ttfamily bt\+Collision\+Shape $\ast$ K\+\_\+\+Physics\+::\+Bullet\+Physics\+::\+Create\+Triangle\+Hull\+Shape (\begin{DoxyParamCaption}\item[{const bt\+Vector3 \&}]{point1,  }\item[{const bt\+Vector3 \&}]{point2,  }\item[{const bt\+Vector3 \&}]{point3 }\end{DoxyParamCaption})}



三角形の形状を作成 


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em point1} & 角の座標 \\
\hline
\mbox{\tt in}  & {\em point2} & 角の座標 \\
\hline
\mbox{\tt in}  & {\em point3} & 角の座標 \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_a22e01fd34d8040fb70f4ccf12d69969e}\label{class_k___physics_1_1_bullet_physics_a22e01fd34d8040fb70f4ccf12d69969e}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!Create\+Triangle\+Mesh@{Create\+Triangle\+Mesh}}
\index{Create\+Triangle\+Mesh@{Create\+Triangle\+Mesh}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{Create\+Triangle\+Mesh()}{CreateTriangleMesh()}}
{\footnotesize\ttfamily bt\+Triangle\+Mesh $\ast$ K\+\_\+\+Physics\+::\+Bullet\+Physics\+::\+Create\+Triangle\+Mesh (\begin{DoxyParamCaption}\item[{bt\+Vector3 $\ast$}]{vectice,  }\item[{int}]{num\+Face }\end{DoxyParamCaption})}



ポリゴンの集合形状を作成 


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em vectice} & 三角形の角座標の配列 \\
\hline
\mbox{\tt in}  & {\em num\+Face} & 三角形の数 \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_ad78ad1e12f268bac61731b636ea040b4}\label{class_k___physics_1_1_bullet_physics_ad78ad1e12f268bac61731b636ea040b4}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!Create\+Triangle\+Mesh\+Shape@{Create\+Triangle\+Mesh\+Shape}}
\index{Create\+Triangle\+Mesh\+Shape@{Create\+Triangle\+Mesh\+Shape}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{Create\+Triangle\+Mesh\+Shape()}{CreateTriangleMeshShape()}}
{\footnotesize\ttfamily bt\+Collision\+Shape $\ast$ K\+\_\+\+Physics\+::\+Bullet\+Physics\+::\+Create\+Triangle\+Mesh\+Shape (\begin{DoxyParamCaption}\item[{bt\+Triangle\+Mesh $\ast$}]{mesh }\end{DoxyParamCaption})}



bt\+Triangle\+Meshからメッシュ形状を作成 


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em mesh} & \mbox{\hyperlink{class_k___physics_1_1_bullet_physics_a22e01fd34d8040fb70f4ccf12d69969e}{Create\+Triangle\+Mesh()}}が返す形状のポインタ \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_a772c665942f1e1855cd218f50b44a9d7}\label{class_k___physics_1_1_bullet_physics_a772c665942f1e1855cd218f50b44a9d7}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!Debug\+Draw@{Debug\+Draw}}
\index{Debug\+Draw@{Debug\+Draw}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{Debug\+Draw()}{DebugDraw()}}
{\footnotesize\ttfamily void K\+\_\+\+Physics\+::\+Bullet\+Physics\+::\+Debug\+Draw (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_k___graphics_1_1_shader_class}{K\+\_\+\+Graphics\+::\+Shader\+Class}} $\ast$}]{shader,  }\item[{\mbox{\hyperlink{class_k___graphics_1_1_camera_class}{K\+\_\+\+Graphics\+::\+Camera\+Class}} $\ast$}]{camera,  }\item[{const \mbox{\hyperlink{namespace_k___math_a345271af9d32dff2c964bc679b13b45c}{K\+\_\+\+Math\+::\+Matrix4x4}} \&}]{trans = {\ttfamily K\+\_\+Math\+:\+:Matrix4x4\+:\+:Identity()} }\end{DoxyParamCaption})}



bulletのコリジョンを可視化する 


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em shader} & 使用するシェーダー \\
\hline
\mbox{\tt in}  & {\em camera} & 使用するカメラ \\
\hline
\mbox{\tt in}  & {\em trans} & 変形行列（省略時単位行列） \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_ae7d67b163870213501e3bba697981b35}\label{class_k___physics_1_1_bullet_physics_ae7d67b163870213501e3bba697981b35}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!Finalize@{Finalize}}
\index{Finalize@{Finalize}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{Finalize()}{Finalize()}}
{\footnotesize\ttfamily void K\+\_\+\+Physics\+::\+Bullet\+Physics\+::\+Finalize (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



bulletの終了処理を行う 

\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_ade016d6e87e8dfdcc8d559455a161692}\label{class_k___physics_1_1_bullet_physics_ade016d6e87e8dfdcc8d559455a161692}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!Find\+Confriction\+Objects@{Find\+Confriction\+Objects}}
\index{Find\+Confriction\+Objects@{Find\+Confriction\+Objects}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{Find\+Confriction\+Objects()}{FindConfrictionObjects()}}
{\footnotesize\ttfamily std\+::vector$<$ \mbox{\hyperlink{struct_k___physics_1_1_collision_tag}{Collision\+Tag}} $>$ \& K\+\_\+\+Physics\+::\+Bullet\+Physics\+::\+Find\+Confriction\+Objects (\begin{DoxyParamCaption}\item[{bt\+Collision\+Object $\ast$}]{myself }\end{DoxyParamCaption})}



現在の物理世界での特定のオブジェクトに対する衝突のチェック 


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em 衝突をチェックしたいオブジェクト} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{戻り値}
衝突が起こったオブジェクトのタグ情報 
\end{DoxyReturn}
\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_ad280b1eeb62f13463d47be6182d5b978}\label{class_k___physics_1_1_bullet_physics_ad280b1eeb62f13463d47be6182d5b978}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{Initialize()}{Initialize()}}
{\footnotesize\ttfamily bool K\+\_\+\+Physics\+::\+Bullet\+Physics\+::\+Initialize (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



bulletの初期化を行う 

\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_a2064ce3d899413b10a2c77e1294c8e53}\label{class_k___physics_1_1_bullet_physics_a2064ce3d899413b10a2c77e1294c8e53}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!Move\+Character@{Move\+Character}}
\index{Move\+Character@{Move\+Character}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{Move\+Character()}{MoveCharacter()}}
{\footnotesize\ttfamily void K\+\_\+\+Physics\+::\+Bullet\+Physics\+::\+Move\+Character (\begin{DoxyParamCaption}\item[{bt\+Collision\+Object $\ast$}]{obj,  }\item[{const bt\+Vector3 \&}]{move }\end{DoxyParamCaption})}



操作性を意識したコリジョンの移動、壁判定も行う(重いが正確) 


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em obj} & 移動するコリジョンオブジェクト \\
\hline
\mbox{\tt in}  & {\em move} & 移動ベクトル \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_af3ed7672b8971271c02610906cab62be}\label{class_k___physics_1_1_bullet_physics_af3ed7672b8971271c02610906cab62be}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!Move\+Character\+Discrete@{Move\+Character\+Discrete}}
\index{Move\+Character\+Discrete@{Move\+Character\+Discrete}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{Move\+Character\+Discrete()}{MoveCharacterDiscrete()}}
{\footnotesize\ttfamily void K\+\_\+\+Physics\+::\+Bullet\+Physics\+::\+Move\+Character\+Discrete (\begin{DoxyParamCaption}\item[{bt\+Collision\+Object $\ast$}]{obj,  }\item[{const bt\+Vector3 \&}]{h\+Move,  }\item[{const bt\+Vector3 \&}]{v\+Move }\end{DoxyParamCaption})}



離散的なコリジョンの移動、判定が Move\+Character よりも大雑把(ただし軽い) 


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em obj} & 移動するコリジョンオブジェクト \\
\hline
\mbox{\tt in}  & {\em h\+Move} & 横移動ベクトル \\
\hline
\mbox{\tt in}  & {\em v\+Move} & 縦移動ベクトル \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_ad5e9e30666e87099f84dc5b2c009c4d4}\label{class_k___physics_1_1_bullet_physics_ad5e9e30666e87099f84dc5b2c009c4d4}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!Remove\+Collision\+Object@{Remove\+Collision\+Object}}
\index{Remove\+Collision\+Object@{Remove\+Collision\+Object}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{Remove\+Collision\+Object()}{RemoveCollisionObject()}}
{\footnotesize\ttfamily void K\+\_\+\+Physics\+::\+Bullet\+Physics\+::\+Remove\+Collision\+Object (\begin{DoxyParamCaption}\item[{bt\+Collision\+Object $\ast$}]{rigidbody }\end{DoxyParamCaption})}



明示的に世界に登録している剛体を世界から外してからポインタをdeleteする~\newline
このクラスのデストラクタにてこの関数によって全て開放している 

\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_a1501fdf81207cffa2b1b964d6a38129e}\label{class_k___physics_1_1_bullet_physics_a1501fdf81207cffa2b1b964d6a38129e}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!Remove\+Collision\+Shape@{Remove\+Collision\+Shape}}
\index{Remove\+Collision\+Shape@{Remove\+Collision\+Shape}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{Remove\+Collision\+Shape()}{RemoveCollisionShape()}}
{\footnotesize\ttfamily void K\+\_\+\+Physics\+::\+Bullet\+Physics\+::\+Remove\+Collision\+Shape (\begin{DoxyParamCaption}\item[{bt\+Collision\+Shape $\ast$}]{shape }\end{DoxyParamCaption})}



明示的にリストに存在する形状情報をリストから外してdeleteする この関数を呼ばなくても、このクラスのデストラクタで全て開放している この関数の後は、形状へのポインタは使えないので注意 

\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_a251957471a8ab4f8bbace69c995d325f}\label{class_k___physics_1_1_bullet_physics_a251957471a8ab4f8bbace69c995d325f}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!Run@{Run}}
\index{Run@{Run}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{Run()}{Run()}}
{\footnotesize\ttfamily void K\+\_\+\+Physics\+::\+Bullet\+Physics\+::\+Run (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



bulletの物理世界を更新して座標を変更する~\newline
プレイヤーの地形判定関数は別駆動なのでフレームの初めに呼ぶとよい 

\mbox{\Hypertarget{class_k___physics_1_1_bullet_physics_ac9b3ed073b61a866485f462fa98ec14c}\label{class_k___physics_1_1_bullet_physics_ac9b3ed073b61a866485f462fa98ec14c}} 
\index{K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}!Set\+Sky\+Vector@{Set\+Sky\+Vector}}
\index{Set\+Sky\+Vector@{Set\+Sky\+Vector}!K\+\_\+\+Physics\+::\+Bullet\+Physics@{K\+\_\+\+Physics\+::\+Bullet\+Physics}}
\subsubsection{\texorpdfstring{Set\+Sky\+Vector()}{SetSkyVector()}}
{\footnotesize\ttfamily void K\+\_\+\+Physics\+::\+Bullet\+Physics\+::\+Set\+Sky\+Vector (\begin{DoxyParamCaption}\item[{const bt\+Vector3 \&}]{vector }\end{DoxyParamCaption})}



重力とは反対方向を指す単位ベクトルを設定、キャラクターの移動に利用する 


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em vector} & 重力と反対方向の単位ベクトル \\
\hline
\end{DoxyParams}
